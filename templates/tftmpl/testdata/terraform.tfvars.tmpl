# This file is generated by Consul NIA.
#
# The HCL blocks, arguments, variables, and values are derived from the
# operator configuration for Consul NIA. Any manual changes to this file
# may not be preserved and could be clobbered by a subsequent update.

testProvider = {
  alias = "tp"
  attr  = "value"
  count = 10
}

services = {
{{- with $srv := service "tag.api@dc1"}}
  {{- $last := len $srv | subtract 1}}
  {{- range $i, $s := $srv}}
  "{{.ID}}" : {
    id              = "{{.ID}}"
    name            = "{{.Name}}"
    address         = "{{.Address}}"
    port            = {{.Port}}
    meta            = {{hclStringMap .ServiceMeta 3}}
    tags            = {{hclStringList .Tags}}
    namespace       = {{hclString .Namespace}}
    status          = "{{.Status}}"
    checks          = {{hclConsulHealthChecks .Checks 3}}
    node            = "{{.Node}}"
    node_id         = "{{.NodeID}}"
    node_address    = "{{.NodeAddress}}"
    node_datacenter = "{{.NodeDatacenter}}"
    node_tagged_addresses = {{hclStringMap .NodeTaggedAddresses 3}}
    node_meta = {{hclStringMap .NodeMeta 3}}
  }{{if (ne $i $last)}},{{- end}}
  {{- end}}
{{- end}},
{{- with $srv := service "web@dc1"}}
  {{- $last := len $srv | subtract 1}}
  {{- range $i, $s := $srv}}
  "{{.ID}}" : {
    id              = "{{.ID}}"
    name            = "{{.Name}}"
    address         = "{{.Address}}"
    port            = {{.Port}}
    meta            = {{hclStringMap .ServiceMeta 3}}
    tags            = {{hclStringList .Tags}}
    namespace       = {{hclString .Namespace}}
    status          = "{{.Status}}"
    node            = "{{.Node}}"
    node_id         = "{{.NodeID}}"
    node_address    = "{{.NodeAddress}}"
    node_datacenter = "{{.NodeDatacenter}}"
    node_tagged_addresses = {{hclStringMap .NodeTaggedAddresses 3}}
    node_meta = {{hclStringMap .NodeMeta 3}}
  }{{if (ne $i $last)}},{{- end}}
  {{- end}}
{{- end}}
}
